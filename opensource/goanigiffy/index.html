<!doctype html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Living at the intersection of Technology, Research, Economics & Art">
    <link rel="stylesheet" href="/css/pure-min.css">
    <link rel="stylesheet" href="/css/grids-responsive-min.css">
    <link rel="stylesheet" href="/css/blog.css">
    <link rel="stylesheet" href="/css/solarized_light.css">

    <title>GoAniGiffy - a simple &amp; versatile animated GIF creator</title>
</head>
<body>

<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <a href="/"><h1 class="brand-title">Srinath's Blog</h1></a>
        <h2 class="brand-tagline">At the intersection of Technology, Insights & Art</h2>

        <nav class="nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a class="pure-button" href="/about">About</a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="/blog">Blog</a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="/opensource">Opensource</a>
                </li>
            </ul>
        </nav>
    </div>
</div>
    

    <div class="content pure-u-1 pure-u-md-3-4">
            
            <div class="posts">
                
                <section class="post">
                    <header class="post-header">
    <img class="post-avatar" alt="Hariharan Srinath" height="48" width="48" src="/img/profilepics/srinath.jpg">
    <a href="/opensource/goanigiffy"><h2 class="post-title">GoAniGiffy - a simple &amp; versatile animated GIF creator</h2></a>

    <p class="post-meta">
        By <a href="#" class="post-author">Hariharan Srinath</a> 
        
            <a class="post-category" href="#">golang</a>
        
            <a class="post-category" href="#">GIF</a>
        
            <a class="post-category" href="#">video</a>
        
    </p>
</header>

                     <div class="socialbuttons" style="float:right">
    <div class="g-plus" data-action="share" data-annotation="none"></div>
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="srinathh" data-count="none" data-dnt="true">Tweet</a>
    <script type="IN/Share"></script>
    <a href="https://news.ycombinator.com/submit" class="hn-button" data-style="twitter">Vote on Hacker News</a>
</div>



                    <div class="post-description">
                        

<p>Animated GIFs have emerged as very convenient ways to post very short movie clips on the web without needing
any complexities like Flash &amp; are well supported by older browsers as well. A number of free services to convert
videos to animated GIFs have sprung up on the web but rarely do they allow editing the video itself.</p>

<p>GoAniGiffy was born out of the need to convert the demo video of <a href="/opensource/ardgrafix6100/">ArdGrafix6100</a> into
an animated GIF for hosting on GitHub Pages. The video was originally shot with a phone camera and needed some
cropping, scaling &amp; rotation to maximize the impact &amp; minimize GIF filesize</p>

<h2 id="toc_0">GoAniGiffy</h2>

<p>GoAniGiffy is a small utility written in <a href="www.golang.org">Go language</a> that converts a set of alphabetically sorted
images (eg. frames extracted from a video with mplayer or VLC) into an animated GIF with the options to
<strong>crop, scale, rotate &amp; flip</strong> the source images. It uses the high quality dithering available in the go language
standard library &amp; in <a href="www.github.com/disintegration/imaging">imaging library by Grigory Dryapak</a> libraries to generate
a high quality gif image.</p>

<h2 id="toc_1">Get It</h2>

<p><a href="https://github.com/srinathh/goanigiffy/tree/master/binaries">Zipped binaries</a> for Linux &amp; Windows in both 32 bit &amp; 64 bit versions are available</p>

<p>If you want to build the Utility from source, make sure you have installed the Go language i
<a href="http://golang.org/doc/installa">installed</a>installed &amp; :wq
to build GoAniGiffy</p>

<h2 id="toc_2">Installation</h2>

<p>You should be able to use go get to install GoAniGiffy. This will get the source and create a
binary built in your $GOPATH/bin folder
<code>
go get github.com
</code></p>

<h2 id="toc_3">Usage</h2>

<p>GoAniGiffy performs image operations in the order of cropping, scaling, rotating &amp; flipping before
converting the images into an Animated GIF. Image manipulation is done using <a href="www.github.com/disintegration/imaging">Grigory Dryapak&rsquo;s imaging</a>
package. We use the Lanczos filter in Resizing and the default Floyd-Steinberg dithering provided by
Go Language&rsquo;s <a href="http://golang.org/pkg/image/gif/">image/gif</a> package to ensure video quality.
Arbitrary angle rotations are not supported.</p>

<p>The -delay parameter must be an integer specifying delay between frames in hundredths of a second.
A value of 3 would give approximately 33 fps theoritically
<code>
Usage of goanigiffy:
  -cropheight=-1: height of cropped image, -1 specified full height
  -cropleft=0: left co-ordinate for crop to start
  -croptop=0: top co-ordinate for crop to start
  -cropwidth=-1: width of cropped image, -1 specifies full width
  -delay=3: delay time between frame in hundredths of a second
  -dest=&quot;movie.gif&quot;: a destination filename for the animated gif
  -flip=&quot;none&quot;: valid falues are none, horizontal, vertical
  -rotate=0: valid values are 0, 90, 180, 270
  -scale=1: scaling factor to apply if any
  -src=&quot;*.jpg&quot;: a glob pattern for source images. defaults to *.jpg
  -verbose=false: show in-process messages
</code></p>

<h2 id="toc_4">Example</h2>

<p>Here is the command line that builds movie.gif from the images in the sample folder.
<code>
goanigiffy -src=&quot;sample/*.jpg&quot; -dest=&quot;sample/movie.gif&quot; -cropleft=100 -croptop=280 -cropwidth=550 -cropheight=351 -scale=0.5 -rotate=270 -verbose
</code></p>

<h2 id="toc_5">Tips</h2>

<p>Here is an example of how you can extract frames from a video clip using mplayer. We are extracting
JPEGs with quality of 80, starting from the 6th second &amp; ending in the 8th second
<code>
mplayer -vo jpeg:quality=80 -nosound -ss 6 -endpos 8 vid.mp4
</code></p>

<h2 id="toc_6">License</h2>

<p>GoAniGiffy code is licensed under the <a href="https://github.com/srinathh/goanigiffy/blob/master/LICENSE">Apache v2.0</a> license.</p>

<p>All other media files &amp; documentation in the repository is licened under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>

                    </div>
                </section>
            </div>
             <div class="socialbuttons" style="float:right">
    <div class="g-plus" data-action="share" data-annotation="none"></div>
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="srinathh" data-count="none" data-dnt="true">Tweet</a>
    <script type="IN/Share"></script>
    <a href="https://news.ycombinator.com/submit" class="hn-button" data-style="twitter">Vote on Hacker News</a>
</div>



            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'srinathhgithubio';
    var disqus_identifier = 'http:\/\/localhost:1313\/opensource\/goanigiffy';
    var disqus_title = 'GoAniGiffy - a simple \x26 versatile animated GIF creator';
    var disqus_url = 'http:\/\/localhost:1313\/opensource\/goanigiffy';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li><a href="#">&copy; 2014, Hariharan Srinath</a></li>
            <li><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Attribution-ShareAlike 4.0 International License" style="border-width:0" src="/img/ccbysa.png" /></a></li>
            <li><a href="http://purecss.io">Pure CSS</a></li>
            <li><a href="http://hugo.spf13.com">Hugo</a></li>
        </ul>
    </div>
</div>
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

    </div>
</div>
<script src="https://apis.google.com/js/platform.js" async defer></script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<script src="//platform.linkedin.com/in.js" type="text/javascript">
  lang: en_US
</script>

<script type="text/javascript">var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>

<script>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
